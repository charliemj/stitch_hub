<!DOCTYPE html>
<html>
  <head>
  </head>

  <body>
    
    

  
    <input type="color" id="html5colorpicker" value="#ff0000" style="width:50px; height:50px">


    <select id="typeSelect" 
      onchange="
        view = ChangeType(document.getElementById('typeSelect').value, model, canvas);
        var temporary = document.getElementById('typeSelect').value.split(',')[2];
        document.getElementById('type').value = temporary;
        view.draw();

        ">
      <option value='12,12,CROSS_STICH'>CrossStitch</option>
      <option value='12,15,KNIT_V'>Knit Vertical</option>
      <option value='12,16,CROCHET_V'>Crochet Vertical</option>
      <option value='15,12,KNIT_H'>Knit Horizontal</option>
      <option value='16,12,CROCHET_H'>Crochet Horizontal</option>
    </select>

    



    <br>
    <canvas 
      id="canvas" 
      
      onclick='
      ClickChange(view,model,document.getElementById("html5colorpicker").value);
      document.getElementById("rows").value = model.getRows();' 
      
      width="400"
      height="400" 
      style="border:1px solid #000000;">
    </canvas>
    <br>
  
    
    

    <form action="/charts" method="post">
    <input type="text" id="title" placeholder="Title"><br>
    <input type="text" id="description" placeholder="Description"><br>
    <input type="hidden" id="rowSize">
    <input type="hidden" id="colSize">
    <input type="hidden" id="type">
    <input type="hidden" id="rows">
    <input type="hidden" id="parent">
    <input type="submit" value="SAVE thing">
    </form>
    <button onclick='checkVals()'>VALUES Test</button>
    
    <script type="text/javascript" src="javascript/chart_model.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script type="text/javascript" src="javascript/chart_view.js"></script>
    <script type="text/javascript" src="javascript/chart_controller.js"></script>
    <script type="text/javascript" src="javascript/json_chart_conversion.js"></script>
    <script type="text/javascript" src="javascript/ratios.js"></script>
    <script>

    chartJson =
  {
    id: 'id',
    title: 'chart title',
    description: 'best description',
    type: 'KNIT_V',
    rowSize: 3,
    colSize: 3,
    rows:
    [
      [ '#123456', '#ABCDEF', '#00FEED' ],
      [ '#654321', '#FEDCBA', '#00DEAD' ],
      [ '#AABBCC', '#CCAABB', '#00BEEF' ]
    ],
    parent: 'parent id',
  };



    //Change this chartJson to the loaded json object
    var jsonChart = chartJson;

    document.getElementById("parent").value = jsonChart.id;
    scaledata = getRatio(jsonChart.type);
    var xscale = scaledata[1];
    var yscale = scaledata[2];
    document.getElementById("typeSelect").value = xscale +','+ yscale +','+ jsonChart.type;
    document.getElementById("type").value = jsonChart.type;

    var XDIM = jsonChart.rowSize;
    var YDIM = jsonChart.colSize;
    document.getElementById("rowSize").value = XDIM;
    document.getElementById("colSize").value = YDIM;
    document.getElementById("rows").value = jsonChart.rows;


    var canvas = document.getElementById("canvas");
    var chartType = document.getElementById("typeSelect").name;
    var model = getChartFromJson(jsonChart);
    var view = ChartView(xscale,yscale,model,canvas);
    view.draw();


    </script>

    
  </body>
</html>